<app-loading *ngIf="loading"></app-loading>
<div class="container">
  <div class="content" fxLayout="row wrap">
    <div fxFlex="100%" [style.margin]="'10px'">
      <div fxFlex="50%" [ngClass]="media.isActive('xs') ? 'header-acceso-mobile':'header-acceso-simple'">
        <img src="../../../../assets/img/LogoCIBanco_letraverde.png" Alt="icon" style="height:50px;width:150px;"/> 
      </div>
    <div fxFlex="50%" [style.margin-top]="'40px'" fxLayoutAlign="end" fxHide fxShow.gt-sm fxShow.gt-xs>
        <span class="header-text" style="margin-right: 20px;">{{ 'forgotPasswordStep2.labels.ya-tiene-cuenta' | translate }}</span>
        <span class="header-text header-link" routerLink="/login">{{ 'forgotPasswordStep2.labels.card-titulo' | translate }}</span>
    </div>
    <div fxFlex="50%" [style.margin-top]="'20px'" [style.margin-right]="'10px'" fxLayoutAlign="end" fxShow fxHide.gt-sm fxHide.gt-xs>
      <span class="header-text header-link" [routerLink]="['/login']">{{ 'forgotPasswordStep2.labels.card-titulo' | translate }}</span>
    </div>
    <div [style.margin-right]="'75px'" fxHide fxShow.gt-sm></div>
    </div>
</div>
  <div class="contaniner-login" fxHide fxShow.gt-sm></div>
  <div class="content" fxLayout="row wrap" fxLayoutAlign="space-around center">
  <div fxFlex="100%" fxFlex.gt-sm="50%" class="margin-card">
    <div fxHide fxShow.gt-sm [style.margin-top]="'20px'"></div>
    <mat-card [ngClass.xs]="'padding-mobile'">
      <mat-card-header>
        <mat-card-title class="card-text-titulo">{{ 'forgotPasswordStep2.labels.nueva-contrasena' | translate }}</mat-card-title>
      </mat-card-header>
      <mat-card-content>
      <p>
        <mat-label class="card-text">{{ 'forgotPasswordStep2.labels.label-ayuda' | translate }}</mat-label>
      </p>
      <form class="custom-form" [formGroup]="formularioNuevaContrasenia">
        <mat-form-field appearance="outline">
            <input matInput placeholder="{{ 'forgotPasswordStep2.labels.codigo-verifica' | translate }}" type="text" formControlName="verificationCode">
            <mat-error *ngIf="formularioNuevaContrasenia.get('verificationCode')?.invalid">{{ 'forgotPasswordStep2.errors.ingrasa-codigo' | translate }}</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <input matInput placeholder="{{ 'forgotPasswordStep2.labels.nueva-contrasena' | translate }}" [type]="hidePassword ? 'password' : 'text'" formControlName="password">
          <mat-error *ngIf="formularioNuevaContrasenia.get('password')?.invalid">{{ 'forgotPasswordStep2.errors.campo-requerido' | translate }}</mat-error>
          <mat-icon matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword" style="cursor: pointer">{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </mat-form-field>
        <button mat-raised-button type="submit" (click)="onNext()" color="primary" [disabled]="formularioNuevaContrasenia.invalid">{{ 'forgotPasswordStep2.actions.button-inicio-sesion' | translate }}</button>
      </form>
      </mat-card-content>
    </mat-card>
  </div>
  </div>
</div>